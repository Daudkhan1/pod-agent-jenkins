def pipelineJobNames = ['job1.groovy', 'job2.groovy', 'job3.groovy']

for (String jobName : pipelineJobNames) {
    pipelineJob(jobName) {
        definition {
            cpsScm {
                scm {
                    git {
                        remote {
                            url('https://github.com/Daudkhan1/pod-agent-jenkins.git')
                        }
                        branches('*/main1') // Optionally specify the branch to checkout
                    }
                }
                scriptPath("${jobName}/Jenkinsfile") // Specify the path to your script
            }
        }
    }
}

// Execute all Jobs in Arrayt
pipelineJobNames = ['job1.groovy', 'job2.groovy', 'job3.groovy']
pipelineJobNames.each { jobName ->
    pipelineJob(jobName) {
      //triggers {
            //cron('* * * * *')
        //}
      definition {
        cpsScm {
            scm {
                git {
                    remote {
                        url('https://github.com/Daudkhan1/pod-agent-jenkins.git')
                    }
                    branches('*/main1') // Optionally specify the branch to checkout
                }
            }
          scriptPath("${jobName}/Jenkinsfile") // Specify the path to your script
        }
    }
  }
}




